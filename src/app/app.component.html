<div>
  <h1>{{ title }}</h1>

  <div class="">
    <input [(ngModel)]="searchParam" type="text" name="" value="" placeholder="search">
    <button (click)="onSearch()"
            type="button"
            name="button">Search
    </button>
  </div>
  <br>

  <div *ngIf="submittedSearch && !appointments.length && !errorMessage"><h3>Loading...</h3></div>
  <div *ngIf="errorMessage"><h3>{{errorMessage}}</h3></div>

  <table *ngIf="submittedSearch && appointments.length">
    <tr>
      <th>Date</th>
      <th>Time</th>
      <th>Description</th>
    </tr>
    <tr *ngFor="let appointment of appointments">
      <th>{{appointment.dateTime | date: 'mediumDate'}}</th>
      <th>{{appointment.dateTime | date: 'shortTime'}}</th>
      <th>{{appointment.description}}</th>
    </tr>
  </table>

  <button (click)="toggleForm(true)" type="button" name="button">New appointment</button>
  <form *ngIf="createFormOpen" class="" action="index.html" method="post">
    <label for="">Date</label>
    <input type="date" name="date" value="" [(ngModel)]="formData.date" required>
    <br>
    <label for="">Time</label>
    <input type="time" name="time" value="" [(ngModel)]="formData.time" required>
    <br>
    <label for="">Description</label>
    <input type="text" name="description" value="" [(ngModel)]="formData.description" required>
    <br>
    <button (click)="createAppointment(formData)" type="button" name="button">Create</button>
    <button (click)="cancelCreate(formData)" type="button" name="button">Cancel</button>
  </form>
</div>

<div style="position: fixed; left: 0; bottom: 0; width: 100%; text-align: center;">
  <p>View this project's source code <a href="https://github.com/torihedden/apptBack" target="_blank">here</a> and <a href="https://github.com/torihedden/appointment-app" target="_blank">here</a>.</p>
</div>
